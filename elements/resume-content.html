
<!--This element is a bit whacky in that I never got the neon animated pages to work for
    the resume detail item. So I just have to set the height of the resume detail items to
    the largest of the group of them. A small inconvience and non maintainable, but it will
    do for the time being.-->

<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="resume-content">
     <template>
         <style is="custom-style">
            :host {
                display: block;
                height:100%;
            }
            .mainHeader {
                font-size: 3em;
                margin-top: 10px;
                margin-bottom: 10px;
            }
            .header{
                font-size:2em;
                margin-top:10px;
                margin-bottom:10px;
            }

             #rippleCont {
                 height: 100%;
                 overflow: hidden;
             }

            .bigDiv {
                background: rgb(0, 148, 255);
                height: 150px;
            }

            .smallDiv {
                background: rgb(0, 255, 144);
                height: 40px;
            }

             #pages {
                 height:100%;
             }
             #resCont {
                 width: 100%;
                 height: 100%;
             }
             hr {
                 width: 100%;
                 border-color: #FFB59A;
                
             }
             #downloadIconTag {
                 visibility: hidden;
                 opacity: 0;
                 transition: visibility 0s linear 0.5s, opacity 0.5s linear;
                 border: 1px black solid;
                 border-radius: 5px;
                 margin-left: auto;
                 margin-top: -5px;
                 padding:2px;
             }

             #downloadIcon:hover + paper-material {
                 visibility: visible;
                 opacity: 1;
                 transition-delay: 0s;
             }
        </style>

         <!--Import the data for the detail pages from a JSON file-->
         <iron-ajax auto url="../data/resumeDetailData.json" handle-as="json" last-response="{{resumeDetailData}}"></iron-ajax>

        <div id="resCont">
            <!--Header-->
            <div class="vertical layout">
                <div class="horizontal layout">
                    <h1 class="mainHeader flex">Resume</h1>
                    <div class="flex vertical layout">
                        
                            <paper-icon-button type="submit" id="downloadIcon"
                                               style="margin-left:auto;"
                                               icon="icons:file-download"
                                               on-click="downloadResume">
                            </paper-icon-button>
                        
                        <paper-material elevation="3" id="downloadIconTag">Download Resume</paper-material>
                    </div>
                </div>
            </div> 
            
            <hr />
            
            <!--Objective-->
            <div id="objectiveCont" style="position:relative;" class="vertical layout flex" >
                <p class="header">Objective:</p>
                <div class="horizontal layout">
                    <div class="flex">
                        <p>
                            Here is my objective.
                        </p>
                    </div>
                    <div style="margin-left:auto;">
                        <iron-image style="height:100px; width:100px; " sizing="contain" src="../img/objective.png"></iron-image>
                    </div>            
                </div>
            </div>

            <hr />

            <!--Employment-->
            <div>
                <p class="header">Employment:</p>
            </div>
            
            <!--Employment Items-->
            <div id="rippleCont">
                <neon-animated-pages id="pages" selected="[[selectedNeonPage]]">

                    <resume-item-container on-tile-click="tileClick">
                    </resume-item-container>

                    <template is="dom-repeat" items="{{resumeDetailData.items}}">
                        <resume-detail-item id="test" on-back-click="backClick"
                                            job-name="{{item.jobName}}"
                                            position="{{item.position}}"
                                            duration="{{item.duration}}"
                                            location="{{item.location}}"
                                            descr="{{item.descr}}"
                                            color-fixed="{{item.colorFixed}}"
                                            logo="{{item.logo}}"
                                            logo-Link="{{item.logoLink}}">
                        </resume-detail-item>
                    </template>

                </neon-animated-pages>
            </div>
            
            <hr />
            
            <!--Technical Skills-->
            <div class="vertical layout">
                <p class="header">Technical Skills:</p>
            </div>
            
            <hr />
            
            <!--Extra Ciricular-->
            <div class="vertical layout">
                <p class="header">Extra Ciricular:</p>
            </div>
        </div>

         <!--Paper Toasts/Notifications-->
        <paper-toast id="resumeDownloadToast" text="Resume Download started..."></paper-toast>
</template>

    <script>
        Polymer({
            is: "resume-content",

            properties: {
                selectedNeonPage: {
                    type: Number,
                    value: 0
                },
                resumeContHght: {
                    type: Number,
                    value: 0
                }
                
            },

            tileClick: function (event) {
                //this.resumeContHght = this.$.pages.clientHeight;

                this.selectedNeonPage = event.detail.openCard;

                //Set to largest page of resume Detail Item
                this.$.pages.style.height = "500px";
                //this.$.pages.style.height = this.resumeContHght + "px";
            },

            backClick: function (event) {
                this.selectedNeonPage = 0;
                this.$.pages.style.height = "100%";

            },
            //This function acts as a download button for the resumeDownloadIcon
            downloadResume: function () {
                
                var link = document.createElement("a");
                link.download = "Resume";
                link.href = '../uploads/Resume(Test).docx';
                link.click();
                this.$.resumeDownloadToast.open();
            }
           
        });



    </script>

	
</dom-module>
	
	